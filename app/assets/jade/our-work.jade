extends templates/_site

block template-content
  - var sticky = {current: "Our Work"}
  include partial/_sticky

  - var intro = {background: "top/photo3.jpg", text: "Our Work", anchor: "#featured", hint: "Continue"}
  include section/_intro

  section#featured.o-hero(data-toward)
    .o-fog

    .o-hero__overlay.l-wrap
      .o-hero__content
        h2.t-h2 Latest Work
        p.t-big
          +dummy(20, "text")
        a(href="case-study").o-button--text.o-button--big.ss-zoomin.right See Case Study

    .o-hero__background
      img.o-hero__image(src="http://unsplash.it/1440/800/?image=201", alt="unsplash.it")

  main.m-works.l-section--dark
    .l-wrap.l-wrap--section

      .m-works__list(data-masonry)
        .o-sizer--column(data-column)
        .o-sizer--gutter(data-gutter)

        article.o-work(class="o-work--small", data-masonry-item)
          img.o-work__image(src="assets/images/work/work_ibm.jpg", alt="unsplash.it")
          .o-work__overlay
            h4.t-h4 IBM
            .o-work__more
              p: +dummy(15, "text")

        each size in ["big", "small", "medium"]

          - var count, width = 800, height = 450
          case size
            when "small"
              - count = 3
              - width = 390
            when "medium"
              - count = 1
              - width = 595
            when "big"
              - count = 1

          - var n = 1
          while n <= count
            article.o-work(class="o-work--#{size}", data-masonry-item)
              img.o-work__image(src="http://unsplash.it/#{width}/#{height}/?image=#{n * 10}", alt="unsplash.it")
              .o-work__overlay
                h4.t-h4 Work that&rsquo;s #{size}
                .o-work__more
                  p: +dummy(15, "text")
                  a.o-button--text.ss-right.right(href="case-study") View Case Study
            - n++

        article.o-work(class="o-work--small", data-masonry-item)
          img.o-work__image(src="assets/images/work/work_google.jpg", alt="unsplash.it")
          .o-work__overlay
            h4.t-h4 Google
            .o-work__more
              p: +dummy(15, "text")

      - var exit = {current: "Our Work", theme: "dark"}
      include partial/_exit
